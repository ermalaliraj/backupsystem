<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:ace="http://www.icefaces.org/icefaces/components"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:sic="http://java.sun.com/jsf/composite/components">



<style>
/* 	#tableForm table th:nth-child(1){width: 25%;}	
	#tableForm table td:nth-child(1){width: 25%;}
	#tableForm table th:nth-child(2){width: 25%;}	
	#tableForm table td:nth-child(2){width: 25%;} 
	#tableForm table th:nth-child(3){width: 25%;}	
	#tableForm table td:nth-child(3){width: 25%;}
	#tableForm table th:nth-child(4){width: 25%;}	
	#tableForm table td:nth-child(4){width: 25%;} */

</style>

	<ui:include src="newRuPopup.xhtml" />

	<div class="box-content">
		<h:panelGroup id="main">

			<h:panelGroup id="panelSearch">
				<h:form id="searchForm">
					<div class="box" id="box-search">
						<div id="info1" class="fltlft info1">
							<h:outputLabel value="#{lbl.ru_name}: " />
							<h:inputText value="#{ruController.name}" maxlength="10" size="10" />

							<h:outputLabel value="#{lbl.ru_description}: " />
							<h:inputText value="#{ruController.description}" maxlength="10" size="10" />
						</div>
						
						<div id="info2" class="fltlft info2">
							<h:outputLabel value="#{lbl.ru_ip}: " />
							<h:inputText value="#{ruController.ip}" maxlength="10" size="10" />
						</div>
						<div class="clearfloat"></div>

						<div id="info5" class="fltrt info4" style="padding: 15px 10px 4px 8px;">
							<p:commandButton styleClass="cerca" value="#{lbl.search}"
								widgetVar="cercaBtn1"
								onclick="cercaBtn1.disable();"
								actionListener="#{ruController.search}"
								oncomplete="cercaBtn1.enable();"
								update=":tableForm :messageErrorForm" />
								
							<p:commandButton styleClass="cerca" value="#{lbl.ru_new}"
								oncomplete="cercaBtn1.enable();newRuPop.show();"
								update=":messageErrorForm :formNewRu:newRuPopPanel" />
						</div>
						<div class="clearfloat"></div>
					</div>
				</h:form>
				
				<h:form id="tableForm">
					<p:dataTable emptyMessage="" widgetVar="tableVar" var="item"
						id="tableId" paginatorAlwaysVisible="true"
						value="#{ruController.ruList}"
						paginator="true" rows="10"
						paginatorPosition="bottom"
						paginatorTemplate="{FirstPageLink}  {PreviousPageLink}  {PageLinks} {CurrentPageReport}   {NextPageLink}  {LastPageLink}"
						currentPageReportTemplate="#{lbl.di} {totalPages}"
						rowKey="#{item.idServizio}" resizableColumns="false"
						styleClass="sicveDatatable"
						rowIndexVar="rowIndex">

						<p:columnGroup type="header">
							<p:row>
								<p:column rowspan="2" headerText="#{lbl.ru_name}"/>
								<p:column rowspan="2" headerText="#{lbl.ru_description}"/>
								<p:column rowspan="2" headerText="#{lbl.ru_ip}"/>
								<p:column rowspan="2" headerText="#{lbl.ru_detail}"/>
							</p:row>
						</p:columnGroup>

						<p:column>
							<h:outputText value="#{item.name}" />
						</p:column>
						<p:column>
							<h:outputText value="#{item.description}" />
						</p:column>
						<p:column>
							<h:outputText value="#{item.ip}" />
						</p:column>
						<p:column>
							<p:commandButton styleClass="viewdett viewdett-#{rowIndex}" value=" "
								onclick="disablebutton($('.viewdett-#{rowIndex}'));"
								actionListener="#{ruController.openPopupDetail}"
								oncomplete="enablebutton($('.viewdett-#{rowIndex}'));"
								update=":messageErrorForm" >
								<f:attribute name="item" value="#{item}" />
							</p:commandButton>
						</p:column>
					</p:dataTable>
				</h:form>
			</h:panelGroup>
			
		</h:panelGroup>
	</div>
</ui:composition>